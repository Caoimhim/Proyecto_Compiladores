program testMultMat;

variables {
    int: A[3,2], B[2,3], res[2,2];
    int: i, j, k;
    int: d1, d2, d3;
}

void function multMat(dim1 : int, dim2 : int, dim3 : int) {
    from i = 0 until dim1 - 1 do {
        from j = 0 until dim2 - 1 do {
            res[i,j] = 0;
            from k = 0 until dim3 - 1 do {
                res[i,j] = res[i,j] + A[i,k] * B [k,j];
                k = k + 1;
            }
            j = j + 1;
        }
        i = i + 1;
    }
}

main () {
    d1 = 3;
    d2 = 3;
    d3 = 2;

    A[0,0] = 1;
    A[0,1] = 2;
    A[0,2] = 3;
    A[1,0] = 4;
    A[1,1] = 5;
    A[1,2] = 6;

    B[0,0] = 10;
    B[0,1] = 11;
    B[1,0] = 20;
    B[1,1] = 21;
    B[2,0] = 30;
    B[2,1] = 31;

    multMat(d1, d2, d3);
    write(res[0,0], " ", res[0,1]);
    write(res[1,0], " ", res[1,1]);
}